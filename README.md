# Nori

Nori — свободный голосовой помощник для Android. Все запросы обрабатываются прямо на устройстве, что обеспечивает приватность и работу без подключения к интернету.

## Возможности

- активация по ключевому слову «Nori»
- поиск информации через DuckDuckGo
- просмотр текста песен
- открытие приложений
- навигация по координатам или адресу
- выполнение телефонных звонков и просмотр контактов
- озвучивание текущего времени и даты
- прогноз погоды с кэшированием и правильным склонением градусов
- компактное отображение времени, даты и погоды на главном экране с автоматическим обновлением в левом верхнем углу
- полноэкранный главный экран без системных панелей и без мигания при запуске
- анимированное лицо робота: глаза двигаются сами и следят за пользователем

## Особенности

- добавлен навык «Текущая дата» с русским произношением
- улучшены ответы навыка времени
- погодный навык кэширует результаты и округляет температуру
- удалены неиспользуемые навыки и лишние зависимости
- поддержка активации по слову «Nori»
- код и комментарии переведены на русский язык
- добавлен механизм авто‑скиллов для периодического вывода информации
- переиспользуемый скилл для распознавания ответов «да/нет» в диалогах
- все навыки переведены на собственную систему скиллов на регулярных выражениях
- полностью удалён `sentences`‑компилятор и связанные зависимости
- распознавание команд стало устойчивее: ввод нормализуется, сравнение выполняется по "примеру" фразы, а регулярные выражения используются только для извлечения параметров
- шаблоны команд содержат несколько примеров и могут распознаваться напрямую по регулярному выражению, что позволяет понимать больше формулировок
- добавлена NFKD-нормализация строк для устойчивого сравнения без диакритики
- исправлены типы шаблонов в навыках открытия приложений и погоды
- расширены шаблоны навыков времени и погоды для корректного понимания разнообразных фраз
- непрерывное отслеживание лица с плавным движением глаз; в настройках можно сфотографировать знакомых людей под разными углами, дать им имя и приоритет, сохранять и удалять их список и видеть подписи в отладочном окне, а глаза радуются им; подпись остаётся даже если человек повернулся, распознавание стало точнее: сравнение выполняется только при наличии четырёх и более ориентиров и с жёстким порогом, что уменьшает риск ошибочно подписать незнакомого человека
- камера анализирует кадры в разрешении 640×480 и распознаёт знакомые лица даже при небольшом повороте головы благодаря обработке частично видимых ориентиров
- непрерывное прослушивание Vosk без перезапуска между фразами, что исключает потерю начала команды
- звук начала прослушивания и сигнал об отсутствии речи воспроизводятся только один раз за сессию, поэтому система не выводит предупреждения и не раздражает лишними повторами
- оптимизировано вычисление расстояния Левенштейна для экономии памяти

## Технологии

- распознавание речи: [Vosk](https://github.com/alphacep/vosk-api)
- источники данных: OpenWeatherMap, DuckDuckGo, Genius
- интерфейс на Kotlin и Jetpack Compose

## Сборка из исходников

```bash
./gradlew assembleDebug
```

Готовый APK появится в `app/build/outputs/apk/debug/`.

## Участие

Мы приветствуем pull request'ы. Пишите описания изменений и обсуждения на русском языке.
